{"version":3,"file":"component---src-pages-live-js-cb1fd5c1bed58b5e72b0.js","mappings":"6GAEA,IAmBIA,EAnBY,WAId,GAAoB,oBAATC,KACT,OAAOA,KAGT,GAAsB,oBAAXC,OACT,OAAOA,OAGT,QAAsB,IAAXF,EACT,OAAOA,EAGT,MAAM,IAAIG,MAAM,kCAGLC,GACbC,EAAOC,QAAUA,EAAUN,EAAOO,MAE9BP,EAAOO,QACTD,EAAA,QAAkBN,EAAOO,MAAMC,KAAKR,IAGtCM,EAAQG,QAAUT,EAAOS,QACzBH,EAAQI,QAAUV,EAAOU,QACzBJ,EAAQK,SAAWX,EAAOW,U,4GCtBpBC,EAAa,CACjB,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAEIC,EAAQ,IAAIC,KA+EZC,GAASC,EAAAA,EAAAA,WAAH,wFAYNC,EAAUC,EAAAA,QAAAA,IAAAA,WAAH,qDAAGA,CAAH,oMAIEH,EAIwBI,EAAAA,EAAAA,IAAAA,kBAKjCC,EAAkBF,EAAAA,QAAAA,IAAAA,WAAH,6DAAGA,CAAH,iJAKkBC,EAAAA,EAAAA,IAAAA,kBAKjCE,EAASH,EAAAA,QAAAA,OAAAA,WAAH,oDAAGA,CAAH,8KAeNI,EAAYJ,EAAAA,QAAAA,KAAAA,WAAH,uDAAGA,CAAH,8FAGwBC,EAAAA,EAAAA,IAAAA,kBAKjCI,EAAOL,EAAAA,QAAAA,KAAAA,WAAH,kDAAGA,CAAH,8FAG6BC,EAAAA,EAAAA,IAAAA,kBAKvC,UA/Ia,WACX,OAAwBK,EAAAA,EAAAA,UAAS,IAA1BC,EAAP,KAAaC,EAAb,KACMC,EAAU,SAACC,GACf,IAAMC,EAAG,yEACE,SAATD,EAAkB,aAAe,IAEnCrB,GAAAA,CAAMsB,GACHC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACLP,EAAiB,SAATE,EAAkBK,EAAKC,UAAYD,MAE5CE,MAAMC,QAAQC,MAOnB,OAJAC,EAAAA,EAAAA,YAAU,WACRX,MACC,IAGD,gBAAC,IAAD,KACE,gBAAC,IAAD,CACEY,MAAM,2BACNC,YAAY,4EAEd,gBAACvB,EAAD,KACE,gBAACG,EAAD,KACE,gBAACC,EAAD,CAAQoB,KAAK,SAASC,QAAS,kBAAMf,EAAQ,cAA7C,YAGA,gBAACN,EAAD,CAAQoB,KAAK,SAASC,QAAS,kBAAMf,EAAQ,UAA7C,SAIDF,EAAKkB,KAAI,SAACC,GAET,IAAMC,EAAWD,EAAQE,SAASC,MAAM,KAElCC,EAAMH,EAAS,GAAGI,OAAO,EAAG,GAE5BC,EAAgB,IAAIpC,KAAK+B,EAAS,GAAIA,EAAS,GAAK,EAAGG,GACvDG,EAAYD,EAAgBrC,EAE5BuC,EAAKF,EAAcG,UAEnBC,EAAK1C,EAAWsC,EAAcK,YAC9BC,EAAON,EAAcO,cAC3B,OACE,uBAAKC,IAAKd,EAAQe,MAAMC,MACtB,qBAAGC,MAAO,CAAEC,UAAW,WACpBX,EACIC,EADK,IACCE,EADD,IACOE,EADP,KACgBZ,EAAQe,MAAMC,KAD9B,KACuChB,EAAQe,MAAMI,KADrD,IAC6DnB,EAAQe,MAAMK,QAD3E,IAGR,gCACE,4BAAUZ,EAAV,IAAgBE,EAAhB,IAAsBE,GACtB,2BACA,gBAACjC,EAAD,KAAOqB,EAAQe,MAAMI,MACrB,2BAEA,gBAACzC,EAAD,KACE,gBAAC,IAAD,CAAM2C,KAAMrB,EAAQJ,YAAa0B,SAAO,GACrCtB,EAAQe,MAAMC,OAGnB,2BACA,4BAAOhB,EAAQe,MAAMK,eAOjC,qBAAGH,MAAO,CAAEC,UAAW,WAAvB","sources":["webpack://ikarus.band/./node_modules/node-fetch/browser.js","webpack://ikarus.band/./src/pages/live.js"],"sourcesContent":["\"use strict\"; // ref: https://github.com/tc39/proposal-global\n\nvar getGlobal = function getGlobal() {\n  // the only reliable means to get the global object is\n  // `Function('return this')()`\n  // However, this causes CSP violations in Chrome apps.\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n\n  throw new Error('unable to locate global object');\n};\n\nvar global = getGlobal();\nmodule.exports = exports = global.fetch; // Needed for TypeScript and Webpack.\n\nif (global.fetch) {\n  exports.default = global.fetch.bind(global);\n}\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","import React, { useEffect, useState } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport fetch from 'node-fetch';\nimport Layout from '../components/layout';\nimport SEO from '../components/seo';\nimport theme from '../utils/themeconstants';\nimport Link from '../components/link';\n\nconst monthNames = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December',\n];\nconst today = new Date();\n\nconst Live = () => {\n  const [gigs, setGigs] = useState([]);\n  const getGigs = (time) => {\n    const url = `https://rest.bandsintown.com/artists/Ikarus/events?app_id=mockingbird${\n      time === 'past' ? '&date=past' : ''\n    }`;\n    fetch(url)\n      .then((res) => res.json())\n      .then((data) => {\n        setGigs(time === 'past' ? data.reverse() : data);\n      })\n      .catch(console.log);\n  };\n\n  useEffect(() => {\n    getGigs();\n  }, []);\n\n  return (\n    <Layout>\n      <SEO\n        title=\"Ikarus - Live tour dates\"\n        description=\"IKARUS tour dates. Currently on tour with their second Album Mosaismic.\"\n      />\n      <Content>\n        <ButtonContainer>\n          <Button type=\"button\" onClick={() => getGigs('upcoming')}>\n            UPCOMING\n          </Button>\n          <Button type=\"button\" onClick={() => getGigs('past')}>\n            PAST\n          </Button>\n        </ButtonContainer>\n        {gigs.map((concert) => {\n          // split out the date string\n          const dateItem = concert.datetime.split('-');\n          // grab the first two characters of the last part of the split out date string\n          const day = dateItem[2].substr(0, 2);\n          // create a date object\n          const formattedDate = new Date(dateItem[0], dateItem[1] - 1, day);\n          const isPastGig = formattedDate < today;\n          // set the date\n          const dd = formattedDate.getDate();\n          // set the month and reference the month name from the monthNames array\n          const mm = monthNames[formattedDate.getMonth()];\n          const yyyy = formattedDate.getFullYear();\n          return (\n            <div key={concert.venue.name}>\n              <p style={{ textAlign: 'center' }}>\n                {isPastGig ? (\n                  `${dd} ${mm} ${yyyy}, ${concert.venue.name}, ${concert.venue.city} ${concert.venue.country} `\n                ) : (\n                  <>\n                    <span>{`${dd} ${mm} ${yyyy}`}</span>\n                    <br />\n                    <City>{concert.venue.city}</City>\n                    <br />\n\n                    <VenueLink>\n                      <Link href={concert.description} outward>\n                        {concert.venue.name}\n                      </Link>\n                    </VenueLink>\n                    <br />\n                    <span>{concert.venue.country}</span>\n                  </>\n                )}\n              </p>\n            </div>\n          );\n        })}\n        <p style={{ textAlign: 'center' }}>more dates to be announced</p>\n      </Content>\n    </Layout>\n  );\n};\n\nconst appear = keyframes`\n  from {\n    transform: translateY(5px);\n    opacity: 0;\n  }\n\n  to {\n    transform: translateY(0px);\n    opacity: 1;\n  }\n`;\n\nconst Content = styled.div`\n  max-width: 960px;\n  min-height: 600px;\n  margin: 0 auto;\n  animation: ${appear} 0.8s ease;\n  animation-delay: 0.2s;\n  opacity: 0;\n  animation-fill-mode: forwards;\n  @media only screen and (max-width: ${theme.dim.mobilebreakpoint}px) {\n    padding: 0px 1.5em;\n  }\n`;\n\nconst ButtonContainer = styled.div`\n  margin: 2em auto 2.5em auto;\n  width: 100%;\n  max-width: 40em;\n  text-align: center;\n  @media only screen and (max-width: ${theme.dim.mobilebreakpoint}px) {\n    margin: 1.5em auto 2em auto;\n  }\n`;\n\nconst Button = styled.button`\n  margin: 0 1em;\n  background: none;\n  color: white;\n  border: none;\n  padding: 0;\n  font-size: 1.4em;\n  cursor: pointer;\n  outline: inherit;\n  transition: all 0.3s ease 0s;\n  &:hover {\n    letter-spacing: 0.1em;\n  }\n`;\n\nconst VenueLink = styled.span`\n  font-size: 19px;\n  font-weight: bold;\n  @media only screen and (max-width: ${theme.dim.mobilebreakpoint}px) {\n    font-size: 17px;\n  }\n`;\n\nconst City = styled.span`\n  font-size: 24px;\n  font-weight: bold;\n  @media only screen and (max-width: ${theme.dim.mobilebreakpoint}px) {\n    font-size: 20px;\n  }\n`;\n\nexport default Live;\n"],"names":["global","self","window","Error","getGlobal","module","exports","fetch","bind","Headers","Request","Response","monthNames","today","Date","appear","keyframes","Content","styled","theme","ButtonContainer","Button","VenueLink","City","useState","gigs","setGigs","getGigs","time","url","then","res","json","data","reverse","catch","console","log","useEffect","title","description","type","onClick","map","concert","dateItem","datetime","split","day","substr","formattedDate","isPastGig","dd","getDate","mm","getMonth","yyyy","getFullYear","key","venue","name","style","textAlign","city","country","href","outward"],"sourceRoot":""}